<main class="h-screen w-full flex flex-col bg-[rgb(var(--color-4))] font-sans antialiased">
  <header class="bg-[rgb(var(--color-5))] border-b border-[rgba(var(--color-2),0.3)] p-4 shadow-lg">
    <div class="flex flex-col space-y-4">
      <div class="flex justify-between items-center">
        <div>
          <h2
            class="text-2xl font-bold bg-gradient-to-r from-[rgb(var(--color-1))] to-[rgba(var(--color-2),0.8)] bg-clip-text text-transparent">
            Campus League
          </h2>
          <p class="text-xs text-[rgba(var(--color-2),0.7)]">Rendirse nunca es una Opción</p>
        </div>

        <div class="flex items-center gap-4">
          <div class="w-10 h-10 rounded-full bg-[rgb(var(--color-2))] flex items-center justify-center">
            <i class="pi pi-user text-[rgb(var(--color-1))]"></i>
          </div>
        </div>
      </div>

      <nav class="flex flex-wrap gap-2">
        <div class="relative" #tournamentDropdown>
          <button (click)="toggleDropdown('tournament')"
            class="flex items-center gap-2 px-4 py-2 bg-[rgba(var(--color-2),0.8)] text-[rgb(var(--color-1))] rounded-lg hover:bg-[rgb(var(--color-2))] transition-all">
            <i class="pi pi-trophy"></i>
            <span>Torneos</span>
            <i class="pi pi-chevron-down text-xs"></i>
          </button>
          <div *ngIf="activeDropdown === 'tournament'"
            class="absolute bg-[rgb(var(--color-5))] border border-[rgba(var(--color-2),0.3)] rounded-lg shadow-xl z-10 min-w-[200px] mt-1">
            <a routerLink="/dashboard/tournament" (click)="closeDropdown()"
              class="flex items-center gap-2 px-4 py-2 hover:bg-[rgba(var(--color-2),0.2)] rounded-t-lg text-[rgb(var(--color-2))]">
              <i class="pi pi-plus-circle"></i>
              <span>Creación de Torneos</span>
            </a>
            <a routerLink="/dashboard/tournament-info" (click)="closeDropdown()"
              class="flex items-center gap-2 px-4 py-2 hover:bg-[rgba(var(--color-2),0.2)] rounded-b-lg text-[rgb(var(--color-2))]">
              <i class="pi pi-info-circle"></i>
              <span>Información de Torneos</span>
            </a>
          </div>
        </div>

        <div class="relative" #matchDropdown>
          <button (click)="toggleDropdown('match')"
            class="flex items-center gap-2 px-4 py-2 bg-[rgba(var(--color-2),0.8)] text-[rgb(var(--color-1))] rounded-lg hover:bg-[rgb(var(--color-2))] transition-all">
            <i class="pi pi-calendar"></i>
            <span>Partidos</span>
            <i class="pi pi-chevron-down text-xs"></i>
          </button>
          <div *ngIf="activeDropdown === 'match'"
            class="absolute bg-[rgb(var(--color-5))] border border-[rgba(var(--color-2),0.3)] rounded-lg shadow-xl z-10 min-w-[200px] mt-1">
            <a routerLink="/dashboard/matches" (click)="closeDropdown()"
              class="flex items-center gap-2 px-4 py-2 hover:bg-[rgba(var(--color-2),0.2)] rounded-t-lg text-[rgb(var(--color-2))]">
              <i class="pi pi-plus-circle"></i>
              <span>Creación de Partidos</span>
            </a>
            <a routerLink="/dashboard/goals" (click)="closeDropdown()"
              class="flex items-center gap-2 px-4 py-2 hover:bg-[rgba(var(--color-2),0.2)] text-[rgb(var(--color-2))]">
              <i class="pi pi-bolt"></i>
              <span>Goles y Puntos</span>
            </a>
            <a routerLink="/dashboard/winners" (click)="closeDropdown()"
              class="flex items-center gap-2 px-4 py-2 hover:bg-[rgba(var(--color-2),0.2)] rounded-b-lg text-[rgb(var(--color-2))]">
              <i class="pi pi-star"></i>
              <span>Ganadores</span>
            </a>
          </div>
        </div>
        <a routerLink="/dashboard/referees"
          class="flex items-center gap-2 px-4 py-2 bg-[rgba(var(--color-2),0.8)] text-[rgb(var(--color-1))] rounded-lg hover:bg-[rgb(var(--color-2))] transition-all">
          <i class="pi pi-address-book"></i>
          <span>Árbitros</span>
        </a>
        <a routerLink="/dashboard/fields"
          class="flex items-center gap-2 px-4 py-2 bg-[rgba(var(--color-2),0.8)] text-[rgb(var(--color-1))] rounded-lg hover:bg-[rgb(var(--color-2))] transition-all">
          <i class="pi pi-map"></i>
          <span>Canchas</span>
        </a>
        <a routerLink="/dashboard/teams-info"
          class="flex items-center gap-2 px-4 py-2 bg-[rgba(var(--color-2),0.8)] text-[rgb(var(--color-1))] rounded-lg hover:bg-[rgb(var(--color-2))] transition-all">
          <i class="pi pi-users"></i>
          <span>Equipos</span>
        </a>
        <a routerLink="/dashboard/players"
          class="flex items-center gap-2 px-4 py-2 bg-[rgba(var(--color-2),0.8)] text-[rgb(var(--color-1))] rounded-lg hover:bg-[rgb(var(--color-2))] transition-all">
          <i class="pi pi-user"></i>
          <span>Jugadores</span>
        </a>
      </nav>
    </div>
  </header>


  <div class="flex-2 flex flex-col min-h-0 bg-[rgb(var(--color-2))] p-1 overflow-hidden">
    <div class="flex items-center justify-between mb-2 px-4">
      <div class="flex-grow text-left">
        <h2 class="text-4xl font-semibold text-[rgb(var(--color-1))]">
          {{ getName() }}
        </h2>
      </div>
      <div class="flex flex-row gap-2">
        <div
          class="bg-white/90 backdrop-blur-sm rounded-lg p-2 border border-[rgba(var(--color-2),0.2)] shadow-sm min-w-30">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-xs text-[rgb(var(--color-2))]">Torneos</p>
              <p class="text-lg font-bold text-[rgb(var(--color-2))]">{{ activeTournaments }}</p>
              <p class="text-xs text-[rgb(var(--color-2))]">Activos</p>
            </div>
            <i class="pi pi-trophy text-xl text-[rgb(var(--color-2))]"></i>
          </div>
        </div>

        <div
          class="bg-white/90 backdrop-blur-sm rounded-lg p-2 border border-[rgba(var(--color-2),0.2)] shadow-sm min-w-30">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-xs text-[rgb(var(--color-2))]">Partidos</p>
              <p class="text-lg font-bold text-[rgb(var(--color-2))]">{{ todaysMatches }}</p>
              <p class="text-xs text-[rgb(var(--color-2))]">Partidos</p>
            </div>
            <i class="pi pi-calendar text-xl text-[rgb(var(--color-2))]"></i>
          </div>
        </div>

        <div
          class="bg-white/90 backdrop-blur-sm rounded-lg p-2 border border-[rgba(var(--color-2),0.2)] shadow-sm min-w-30">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-xs text-[rgb(var(--color-2))]">Equipos</p>
              <p class="text-lg font-bold text-[rgb(var(--color-2))]">{{ teamsCountR }}</p>
              <p class="text-xs text-[rgb(var(--color-2))]">En Revisión</p>
            </div>
            <i class="pi pi-users text-xl text-[rgb(var(--color-2))]"></i>
          </div>
        </div>
        <div
          class="bg-white/90 backdrop-blur-sm rounded-lg p-2 border border-[rgba(var(--color-2),0.2)] shadow-sm min-w-30">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-xs text-[rgb(var(--color-2))]">Equipos</p>
              <p class="text-lg font-bold text-[rgb(var(--color-2))]">{{ teamsCountA }}</p>
              <p class="text-xs text-[rgb(var(--color-2))]">Activos</p>
            </div>
            <i class="pi pi-users text-xl text-[rgb(var(--color-2))]"></i>
          </div>
        </div>
        <div
          class="bg-white/90 backdrop-blur-sm rounded-lg p-2 border border-[rgba(var(--color-2),0.2)] shadow-sm min-w-30">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-xs text-[rgb(var(--color-2))]">Jugadores</p>
              <p class="text-lg font-bold text-[rgb(var(--color-2))]">{{ playersCount }}</p>
              <p class="text-xs text-[rgb(var(--color-2))]">Activos</p>
            </div>
            <i class="pi pi-user text-xl text-[rgb(var(--color-2))]"></i>
          </div>
        </div>
      </div>
    </div>
    <div
      class="flex-1 min-h-0 overflow-y-auto scroll-smooth scrollbar-thin scrollbar-thumb-[rgba(var(--color-4))] scrollbar-track-transparent rounded-lg bg-[rgba(var(--color-5),0.8)] border border-[rgba(var(--color-4), 0.5)] shadow-lg">
      <router-outlet></router-outlet>
    </div>

    <footer class="mt-4 text-center text-xs text-[rgba(var(--color-1))]">
      <p>v2.4.0 &copy; 2025 CampusLeague</p>
    </footer>
  </div>
</main>